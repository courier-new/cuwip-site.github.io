{"version":3,"sources":["agenda.js"],"names":["progData","schedule","Array","eventTypes","$","getJSON","data","addAgenda","output","length","setTimeout","console","log","each","$c","currOutput","day","college","events","$e","sname","types","includes","push","name","required","timeStart","timeEnd","place","addTalkDesc","addBreakoutOptions","indexOf","html","legend","sort","pn","charAt","toUpperCase","slice","e","speaker","debugHide","speakerHome","speakerImg","shortDesc","speakerPage","URL","type","options","i","optID","option","breakouts","hasOwnProperty","special","toLowerCase","on","window","width","hasClass","removeClass","addClass","click","target","parents"],"mappings":"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","file":"agenda-dist.js","sourcesContent":["/**\r\n * agenda.js\r\n *\r\n * Parses program data from agenda.json and automatically populated agenda page in readable format.\r\n *\r\n * @author    Kelli Rockwell <kellirockwell@mail.com>\r\n * @since     File available since August 10th, 2017\r\n * @version   1.0.0\r\n */\r\n\r\n// Variable for storing all of the program data retrieved from json\r\nlet progData = {schedule: Array(0)};\r\n\r\n// Array for storing all the different event types for creating legend\r\nlet eventTypes = [];\r\n\r\n$.getJSON('agenda.min.json', function(data) {\r\n   progData = data;\r\n\taddAgenda();\r\n});\r\n\r\nlet addAgenda = function() {\r\n\tlet output = \"\";\r\n\tif (!progData.schedule.length) {\r\n\t\tsetTimeout(function() {\r\n\t\t\tconsole.log('trying to fetch agenda again');\r\n\t\t\taddAgenda();\r\n\t\t}, 200);\r\n\t} else {\r\n\t\t// For each day of the schedule\r\n\t\t$(progData.schedule).each(function() {\r\n\t\t\t// Save current day data\r\n\t\t\tlet $c = $(this)[0];\r\n\t\t\t// Begin parsing data with date title\r\n\t\t\tlet currOutput = \"<h1>\" + $c.day + \"</h1>\\n\";\r\n\t\t\tcurrOutput += \"<span class='campus reference'>\" + $c.college + \"</span>\\n<div class='day table'>\\n\";\r\n\t\t\t$($c.events).each(function() {\r\n\t\t\t\t// Save current event\r\n\t\t\t\tlet $e = $(this)[0];\r\n\t\t\t\t// Add individual event item\r\n\t\t\t\tcurrOutput += \"<div class='event \" + $e.sname + \"'>\\n\";\r\n\t\t\t\t// Add event type designations\r\n\t\t\t\tcurrOutput += \"<div class='type bubbles'>\\n\";\r\n\t\t\t\t$($e.types).each(function() {\r\n\t\t\t\t\t// If event type is not yet part of array\r\n\t\t\t\t\tif (!eventTypes.includes(this)) {\r\n\t\t\t\t\t\t// Add it\r\n\t\t\t\t\t\teventTypes.push(this);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcurrOutput += \"<span class='\" + this + \"'></span>\\n\";\r\n\t\t\t\t});\r\n\t\t\t\tcurrOutput += \"</div>\\n<div class='info'>\";\r\n\t\t\t\t// Add event name\r\n\t\t\t\tcurrOutput += \"<span class='name \" + $e.sname + \"'>\" + $e.name;\r\n\t\t\t\t// Mark if event is Optional\r\n\t\t\t\tcurrOutput += (!$e.required) ? \" <span class='optional'>(Optional)</span>\" : \"\";\r\n\t\t\t\tcurrOutput += \"</span>\\n\";\r\n\t\t\t\t// Add event time\r\n\t\t\t\tcurrOutput += \"<span class='time \" + $e.sname + \"'>\" + $e.timeStart + \" - \" + $e.timeEnd + \"</span>\";\r\n\t\t\t\t// Add event location\r\n\t\t\t\tcurrOutput += \"<span class='place \" + $e.sname + \"'>\" + $e.place + \"</span>\";\r\n\t\t\t\tcurrOutput += \"</div>\\n\";\r\n\t\t\t\t// Add desc/options element, if event is talk or parallel session\r\n\t\t\t\tcurrOutput += ($e.types.includes(\"talk\")) ? addTalkDesc($e) : \"\";\r\n\t\t\t\tcurrOutput += ($e.types.includes(\"breakout\")) ? addBreakoutOptions($e) : \"\";\r\n\t\t\t\tcurrOutput += \"</div>\\n\";\r\n\t\t\t});\r\n\t\t\tcurrOutput += \"</div>\\n\";\r\n\t\t\t// Add separator unless last day\r\n\t\t\tcurrOutput += (progData.schedule.indexOf($c) !== progData.schedule.length - 1) ? \"<div class='separator'></div>\" : \"\";\r\n\t\t\toutput += currOutput;\r\n\t\t});\r\n\t\t// Fill agenda\r\n\t\t$('.agenda.spread').html(output);\r\n\r\n\tlet legend = \"\";\r\n\teventTypes.sort();\r\n\t// For each type of event\r\n\t$(eventTypes).each(function() {\r\n\t\t// Get event proper name\r\n\t\tlet pn = this;\r\n\t\tif (this == \"breakout\") {\r\n\t\t\tpn = \"Breakout Session\";\r\n\t\t} else if (this == \"free\") {\r\n\t\t\tpn = \"Free Time\";\r\n\t\t} else if (this == \"misc\") {\r\n\t\t\tpn = \"Misc/Special\";\r\n\t\t} else if (this == \"shuttle\") {\r\n\t\t\tpn = \"Shuttle Run\";\r\n\t\t} else {\r\n\t\t\tpn = pn.charAt(0).toUpperCase() + pn.slice(1);\r\n\t\t}\r\n\t\tlegend += \"<div><span class='\" + this + \"'></span>\" + pn + \"</div>\\n\";\r\n\t});\r\n\t$('.event.types.legend').html(legend);\r\n\t}\r\n};\r\n\r\nlet addTalkDesc = function(e) {\r\n\tlet output = \"\";\r\n\tif (!e.speaker || e.speaker === \"TBD\" || e.debugHide) {\r\n\t\treturn output;\r\n\t} else {\r\n\t\toutput += \"<div class='about \" + e.types[0] + \"'>\\n<div class='desc'>\\n\";\r\n\t\toutput += \"<h2>\" + e.speaker + \" <em>\" + e.speakerHome + \"</em></h2>\\n\";\r\n\t\toutput += \"<div class='lil-img'><img src='../img/\" + e.speakerImg + \"'></div>\\n\";\r\n\t\toutput += \"<p>\" + e.shortDesc + \" Visit her <a target='_blank' href='\" + e.speakerPage.URL + \"'>\" + e.speakerPage.type + \"</a> to learn more.</p>\\n\";\r\n\t\toutput += \"</div>\\n<div class='big-img'><img src='../img/\" + e.speakerImg + \"'></div>\\n</div>\\n\";\r\n\t\treturn output;\r\n\t}\r\n};\r\n\r\nlet addBreakoutOptions = function(e) {\r\n\tlet output = \"\";\r\n\tif (!e.options || e.options.length === 0 || e.debugHide) {\r\n\t\treturn output;\r\n\t} else {\r\n\t\toutput += \"<div class='about \" + e.types[0] + \"'>\\n<ul>\\n\";\r\n\t\tfor (let i = 0; i < e.options.length; i++) {\r\n\t\t\tlet optID = e.options[i];\r\n\t\t\t// Locate breakout option by its ID\r\n\t\t\tlet option = progData.breakouts[optID];\r\n\t\t\toutput += \"<li>\" + option.name;\r\n\t\t\t// If breakout session as special property\r\n\t\t\tif (option.hasOwnProperty(\"special\")) {\r\n\t\t\t\toutput += \"<span\";\r\n\t\t\t\t// If breakout session is labeled as only occurring once\r\n\t\t\t\toutput += (option.special.toLowerCase().includes(\"once\")) ? \" class='once'>\" : \">\";\r\n\t\t\t\toutput += option.special + \"</span>\";\r\n\t\t\t}\r\n\t\t\toutput += \"</li>\\n\";\r\n\t\t}\r\n\t\toutput += \"</ul>\\n</div>\\n\";\r\n\t\treturn output;\r\n\t}\r\n};\r\n\r\n// Clicking on agenda event type bubble\r\n$('.agenda.spread').on('click', '.type.bubbles span', function() {\r\n\tif ($(window).width() <= 700) {\r\n\t\tif ($(this).hasClass('focused')) {\r\n\t\t\t$(this).removeClass('focused');\r\n\t\t} else {\r\n\t\t\t$(this).addClass('focused');\r\n\t\t}\r\n\t}\r\n});\r\n\r\n// On click anywhere outside event type bubble on mobile, close bubble\r\n$('html').click(function(e) {\r\n   if (!$(e.target).parents('.type.bubbles').length && $(window).width() <= 700) {\r\n\t\t$('.type.bubbles span').removeClass('focused');\r\n   }\r\n});\r\n\r\n/* End of agenda.js */\r\n"]}